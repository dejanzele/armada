grpc:
  port: 50052
  tls:
    enabled: false
auth:
  anonymousAuth: true
  permissionGroupMapping:
    execute_jobs: ["everyone"]
pulsar:
  URL: "pulsar://localhost:6650"
armadaApi:
  armadaUrl: "localhost:50051"
  forceNoTls: true
postgres:
  connection:
    host: localhost
    port: 5432
    user: postgres
    password: psw
    dbname: scheduler
    sslmode: disable
scheduling:
  indexedNodeLabels:
    - "kubernetes.io/hostname"
  retryPolicy:
    enabled: true
    globalMaxRetries: 5
    # Default policy: no rules = everything fails immediately
    default:
      retryLimit: 3
      rules: []
    policies:
      # ML training: retry OOMKilled only
      ml-training:
        retryLimit: 5
        rules:
          - action: Retry
            onExitCodes:
              operator: In
              values: [137]
      # Retry-all: traditional batch behavior (retry everything except success)
      retry-all:
        retryLimit: 5
        rules:
          - action: Retry
            onExitCodes:
              operator: NotIn
              values: [0]
      # High-retry: for testing global limit caps
      high-retry:
        retryLimit: 10
        rules:
          - action: Retry
            onExitCodes:
              operator: NotIn
              values: [0]
metrics:
  port: 9001
